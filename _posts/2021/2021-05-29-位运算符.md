---
layout: mypost
title: 位运算符
categories: [javascript]
---

| 运算符 | 名称         | 描述                                                    |
| ------ | ------------ | ------------------------------------------------------- |
| &      | AND          | 如果两位都是 1 则设置每位为 1                           |
| \|     | OR           | 如果两位之一为 1 则设置每位为 1                         |
| ^      | XOR          | 如果两位只有一位为 1 则设置每位为 1                     |
| ~      | NOT          | 反转所有位                                              |
| \<\<   | 零填充左位移 | 零填充左位移 通过从右推入零向左位移，并使最左边的位脱落 |
| \>\>   | 有符号右位移 | 通过从左推入最左位的拷贝来向右位移，并使最右边的位脱落  |
| \>\>\> | 零填充右位移 | 通过从左推入零来向右位移，并使最右边的位脱落            |

实例

| 操作       | 结果 | 等同于        | 结果 |
| ---------- | ---- | ------------- | ---- |
| 5 & 1      | 1    | 0101 & 0001   | 0001 |
| 5 \| 1     | 5    | 0101 \| 0001  | 0101 |
| 5 ^ 1      | 4    | 0101 ^ 000    | 0100 |
| ~ 5        | 10   | ~0101         | 1010 |
| 5 \<\< 1   | 10   | 0101 \<\< 1   | 1010 |
| 5 \>\> 1   | 2    | 0101 \>\> 1   | 0010 |
| 5 \>\>\> 1 | 2    | 0101 \>\>\> 1 | 0010 |

## JavaScript 使用 32 位按位运算数

JavaScript 将数字存储为 64 位浮点数，但所有按位运算都以 32 位二进制数执行。

在执行位运算之前，JavaScript 将数字转换为 32 位有符号整数。

执行按位操作后，结果将转换回 64 位 JavaScript 数。

上面的例子使用 4 位无符号二进制数。所以 ~ 5 返回 10。

由于 JavaScript 使用 32 位有符号整数，JavaScript 将返回 -6。

00000000000000000000000000000101 (5)

11111111111111111111111111111010 (~5 = -6)

有符号整数使用最左边的位作为减号。

```js
// 十进制转二进制
function dec2bin(dec) {
  return (dec >>> 0).toString(2);
}

// 二进制转十进制
function bin2dec(bin) {
  return parseInt(bin, 2).toString(10);
}
```
